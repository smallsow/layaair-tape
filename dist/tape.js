!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return window.hasOwnProperty("FBInstant")&&!window.FBInstant.isMock};var i=function(){return window.hasOwnProperty("wx")&&!window.wx.isMock};function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("wx")){for(var o=t.split("."),i=window.wx;o.length>1;)i=i[o.shift()];if(i&&1==o.length&&i.hasOwnProperty(o[0]))return i[o[0]].apply(i,e)}}var a="3.3.0",u="${app_version}";var s=!0;var c="${env}";function l(){return 0===c.indexOf("${")?"development":c}e.FACEBOOK="facebook",e.WECHAT="wechat",e.BROWSER="browser",e.default={getAppVersion:function(){return 0===u.indexOf("${")?"1.0.0":u},getVersion:function(){return 0===a.indexOf("${")?"1.0.0":a},isBrowserApp:function(){return!o()&&!i()},isFacebookApp:o,execFB:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(window.hasOwnProperty("FBInstant")){for(var o=t.split("."),i=window.FBInstant;o.length>1;)i=i[o.shift()];if(i&&1==o.length&&i.hasOwnProperty(o[0]))return i[o[0]].apply(i,e)}},isWechatApp:i,execWX:r,postMessageToWXOpenDataContext:function(t){var e=r("getOpenDataContext");e&&e.postMessage&&e.postMessage(t)},setDebug:function(t){s=t},printDebug:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s&&console.log.apply(console,["Tape:",t].concat(e))},getEnv:l,setEnv:function(t){c=t},isDev:function(){return"production"!==l()},isProd:function(){return"production"===l()},getPlatform:function(){return o()?e.FACEBOOK:i()?e.WECHAT:e.BROWSER}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(2),r=0,a=0,u=0,s=0;e.initScreen=function(t,e,n){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];u=e,s=n;var f=Laya.Browser.clientHeight/laya.utils.Browser.clientWidth,d=n/e,h=e,p=n;r=0,a=0,Math.abs(f/d-1)>.1&&(f>d?a=((p=e*f)-n)/2:r=((h=n/f)-e)/2),t?Laya3D.init.apply(this,[h,p].concat(c)):Laya.init.apply(this,[h,p].concat(c)),Laya.stage.scaleMode=Laya.Stage.SCALE_EXACTFIT,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE,o.initBg(),i.initUI(r,a)},e.default={getWidth:function(){return Laya.stage.width},getHeight:function(){return Laya.stage.height},getOffestX:function(){return r},getOffestY:function(){return a},getDesignWidth:function(){return u},getDesignHeight:function(){return s}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i,r=n(4),a=n(7),u=!1,s=0,c=0;function l(){if(!u){var t=new Laya.Sprite;(o=new Laya.Sprite).x=s,o.y=c,o.name="_tape_main_layer",(i=new Laya.Sprite).name="_tape_top_layer",i.x=s,i.y=c,t.addChild(o),t.addChild(i),Laya.stage.addChild(t),u=!0}}function f(){if(o.numChildren>0&&o.getChildAt(o.numChildren-1)instanceof a.default)return void r.setFocus(!0);r.setFocus(!1)}e.initUI=function(t,e){s=t,c=e,l()},e.default={checkFocus:f,addMainLayer:function(t){l(),t&&o.addChild(t),f()},addTopLayer:function(t){l(),t&&i.addChild(t),f()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=null,r=!1,a=!1,u=null,s=new Promise(function(t){u=t});function c(){var t=i.commonRes||[];t.length>0?Laya.loader.load(t,Laya.Handler.create(null,function(){l(),i.onLoaded&&i.onLoaded()}),Laya.Handler.create(this,function(t){i.onLoadProgress&&i.onLoadProgress(t)},null,!1)):(i.onLoadProgress&&i.onLoadProgress(100),i.onLoaded&&i.onLoaded(),l())}function l(){o.default.navigate(i.mainPage)}e.initNavigator=function(t){t&&!r&&((i=t)&&i.fileVersion?(Laya.ResourceVersion.type=Laya.ResourceVersion.FILENAME_VERSION,Laya.ResourceVersion.enable(i.fileVersion,Laya.Handler.create(null,function(){c()}))):c(),r=!0)},e.onNavigatorReady=function(){return a?Promise.resolve():s},e.setNavigatorReady=function(){a||(a=!0,u(),u=null,s=null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(2),r=[],a=!1;function u(){return r.length}function s(t){void 0===t&&(t=0);var e=u();return e>t?r[e-1-t]:null}function c(t,e,n){void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=null);var o=s(t);o&&o.show(e&&u()>1,n)}function l(t){(t>=u()&&(t=u()-1),t<=0)||(r.splice(u()-t,t).forEach(function(t){t.hide(),t.exit()}),c(0))}e.setFocus=function(t){var e=s();e&&e.focus(t)},e.default={navigate:function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),new o.default({page:t,params:e,onShow:function(){var t;t=function(){n&&n(!0)},c(0,!0,function(){var e=s(1);e&&(e.hide(),t&&t())})},onLoaded:function(t){var e;a=!1,i.default.addMainLayer(t),e=t,r.push(e)},onLoadProgress:function(t,e){if(a){var n=s();n&&n.nextProgress(e)}}})},pop:function(t){void 0===t&&(t=1),l(t)},popToTop:function(){l(u())},finish:function(t,e){void 0===e&&(e=null);var n=[];r.forEach(function(o){o.canFinish(t,e)&&n.push(o)}),function(t){if(t&&!(t.length<=0)){for(var e=0;u()>1&&e<t.length;e++){var n=t[e];r.splice(r.indexOf(n),1),n.hide(),n.exit()}c(0)}}(n)}}},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._bgSprite=null,n._bgAlpha=.5,n._bgColor="#000000",n._isTranslucent=!0,n._handleOnTouchOutside=null,n._canceledOnTouchOutside=!1,n._handleOnTouchOutside=e,setTimeout(function(){return n.initBg()},0),n}return i(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this.getChildByName("_contentView")},set:function(t){this.removeChildByName("_contentView"),t.name="_contentView",this.addChild(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgAlpha",{get:function(){return this._bgAlpha},set:function(t){this._bgAlpha=t,this.refreshBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor=t,this.refreshBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTranslucent",{get:function(){return this._isTranslucent},set:function(t){this._isTranslucent=t,this.refreshBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canceledOnTouchOutside",{get:function(){return this._canceledOnTouchOutside},set:function(t){this._canceledOnTouchOutside=t,this.refreshCanceledOnTouchOutside()},enumerable:!0,configurable:!0}),e.prototype.refreshBg=function(){this._bgSprite&&(this._bgSprite.alpha=this.bgAlpha,this._bgSprite.graphics.clear(),this.isTranslucent||this._bgSprite.graphics.drawRect(0,0,this._bgSprite.width,this._bgSprite.height,this.bgColor))},e.prototype.refreshCanceledOnTouchOutside=function(){this.canceledOnTouchOutside&&this.ui&&(this.ui.mouseThrough=!0)},e.prototype.initBg=function(){var t=this;this._bgSprite||(this._bgSprite=new Laya.Sprite,this._bgSprite.x=-r.default.getOffestX(),this._bgSprite.y=-r.default.getOffestY(),this._bgSprite.width=r.default.getWidth(),this._bgSprite.height=r.default.getHeight(),this._bgSprite.on(Laya.Event.CLICK,this,function(e){t.canceledOnTouchOutside&&t._handleOnTouchOutside&&t._handleOnTouchOutside(),e.stopPropagation()}),this.addChildAt(this._bgSprite,0),this.refreshBg(),this.refreshCanceledOnTouchOutside())},e}(Laya.Component);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=null,r="#000000";e.initBg=function(){(i=Laya.stage.getChildByName("tape_background_layer"))||((i=new Laya.Sprite).name="tape_background_layer",Laya.stage.addChild(i)),i.width=o.default.getWidth(),i.height=o.default.getHeight(),i.graphics.clear(),i.graphics.drawRect(0,0,i.width,i.height,r)},e.default={getBgSprite:function(){return i},setBgColor:function(t){r=t,i&&(i.graphics.clear(),i.graphics.drawRect(0,0,i.width,i.height,t))},getBgColor:function(){return r}}},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(3),u=function(t){function e(e){var n=t.call(this)||this;n._options=null,n._activity=null,n._isShow=!1,n._isFocus=!1,n.visible=!1,n._options=e;var o=n._options.page.res;return o&&o.length>0?Laya.loader.load(o,Laya.Handler.create(n,function(){n._newActivity(),n._onLoaded()}),Laya.Handler.create(n,function(t){n._onLoadProgress(t)},null,!1)):(n._newActivity(),n._onLoaded()),n}return i(e,t),e.prototype._newActivity=function(){this._activity||(this._activity=new this._options.page({page:this._options.page,params:this._options.params}))},e.prototype._onLoaded=function(){var t=this;a.onNavigatorReady().then(function(){t._options.onLoaded&&t._options.onLoaded(t),t.addChild(t._activity),t._activity.onCreate&&t._activity.onCreate(),t._options.onShow&&t._options.onShow()})},e.prototype._onLoadProgress=function(t){this._options.onLoadProgress&&this._options.onLoadProgress(this,t)},e.prototype.nextProgress=function(t){this._activity.onNextProgress&&this._activity.onNextProgress(t)},e.prototype.canFinish=function(t,e){return t===this._options.page&&(!e||e===this._activity)},e.prototype.show=function(t,e){if(!this.visible&&!this._isShow){this._isShow=!0;var n=this._activity.easeIn||Laya.Ease.linearIn,o=this._activity.duration||0,i=this._activity.fromProps||{},a=this._activity.toProps||{};t&&n&&o>0?(Object.assign(this,i),this._activity.onResume&&this._activity.onResume(),this.visible=!0,Laya.Tween.to(this,a,o,n,Laya.Handler.create(this,function(){e&&e()}))):(this._activity.onResume&&this._activity.onResume(),this.visible=!0,e&&e()),r.default.checkFocus()}},e.prototype.hide=function(){this.visible&&this._isShow&&(this._isShow=!1,this._activity.onPause&&this._activity.onPause(),this.visible=!1,this.focus(!1))},e.prototype.exit=function(){this._activity.onDestroy&&this._activity.onDestroy(),this.destroy()},e.prototype.focus=function(t){this._isFocus!==t&&(this._isFocus=t,this._activity.onFocus&&this._activity.onFocus(t))},e}(Laya.Component);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1);e.fixWidth=function(t){var e=o.default.execWX("getSystemInfoSync");return e?t*e.windowWidth/i.default.getWidth():t},e.fixHeight=function(t){var e=o.default.execWX("getSystemInfoSync");return e?t*e.windowHeight/i.default.getHeight():t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i={};e.default={showPopup:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=i[t],a=new t;a.popup=t,a.params=e||{},a._onHide=n,r?r.push(a):i[t]=[a],o.default.addMainLayer(a),function(t,e){var n=t.fromProps||{alpha:0},o=t.toProps||{alpha:1},i=t.easeIn||Laya.Ease.linearIn,r=t.duration||500;Object.assign(t,n),Laya.Tween.to(t,o,r,i,Laya.Handler.create(this,function(){e&&e(t)}))}(a,function(){a.onShow&&a.onShow()})},hidePopup:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=i[t];if(e){var a=r?r.indexOf(e):-1;if(a<0)return;r.splice(a,1),e._onHide&&e._onHide(e.popup,n),e.onHide&&e.onHide(e.popup,n),e.removeSelf&&e.removeSelf(),e.destroy&&e.destroy(),o.default.checkFocus()}else r&&r.splice(0,r.length).forEach(function(t){!function(t,e){var n=t.fromProps||{alpha:0},o=t.toProps||{alpha:1},i=t.easeOut||Laya.Ease.linearOut,r=t.duration||500;Object.assign(t,o),Laya.Tween.to(t,n,r,i,Laya.Handler.create(this,function(){e&&e(t)}))}(t,function(){t._onHide&&t._onHide(t.popup,n),t.onHide&&t.onHide(t.popup,n),t.removeSelf&&t.removeSelf(),t.destroy&&t.destroy(),o.default.checkFocus()})})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i={};function r(t,e){if(!i[t])return[];if(e&&i[t].length>1)return i[t].splice(i[t].indexOf(e),1),[e];var n=i[t]||[];return delete i[t],n}e.default={showToast:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var a=new t;a._on_hide=n,a.toast=t,a.params=e||{};var u=a.fromProps||{alpha:0},s=a.toProps||{alpha:1},c=a.easeIn||Laya.Ease.linearIn,l=a.easeOut||Laya.Ease.linearOut,f=a.duration||500,d=a.displayDuration||1e3;Object.assign(a,u),Laya.Tween.to(a,s,f,c,Laya.Handler.create(this,function(){a.onShow&&a.onShow()}),0),Laya.Tween.to(a,u,f,l,Laya.Handler.create(this,function(){a&&(r(t,a),a._on_hide&&a._on_hide(a.toast),a.onHide&&a.onHide(),a.destroy())}),d+f),function(t,e){i[t]?i[t].push(e):i[t]=[e]}(t,a),o.default.addTopLayer(a)},hideToast:function(t,e){void 0===e&&(e=null),r(t,e).forEach(function(t){t._on_hide&&t._on_hide(t.toast),t.onHide&&t.onHide(),t.destroy()})}}},function(t,e,n){"use strict";n(12);var o=n(6),i=n(1),r=n(0),a=n(16),u=n(20),s=n(26),c=n(31),l=n(4),f=n(9),d=n(10),h=n(32),p=n(33),y=n(34),_=n(35),g={init:_.init,init3D:_.init3D,start:_.start,exit:_.exit,bg:o.default,screen:i.default,platform:r.default,ad:a.default,app:u.default,rank:s.default,navigator:l.default,popup:f.default,toast:d.default,Activity:h.default,PopupView:p.default,ToastView:y.default};"undefined"!=typeof window&&(window.Tape=g,window.runtime=c.default),t.exports={Tape:g,runtime:c.default}},function(t,e,n){"use strict";(0,n(13).polyfill)(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0});var o={};o="undefined"!=typeof GameGlobal?GameGlobal:window||{setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return setTimeout.apply(void 0,arguments)}),setInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return setInterval.apply(void 0,arguments)}),clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return clearTimeout.apply(void 0,arguments)}),clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return clearInterval.apply(void 0,arguments)})},"undefined"==typeof window&&(window=o,window.self=window,window.parent=window,window.window=window,window.global=window,window.GameGlobal=window),"undefined"==typeof wx?window.wx={isMock:!0}:window.wx=wx,"undefined"==typeof FBInstant?window.FBInstant={isMock:!0}:window.FBInstant=FBInstant},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */var o;o=function(){"use strict";function t(t){return"function"==typeof t}var o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,r=void 0,a=void 0,u=function(t,e){p[i]=t,p[i+1]=e,2===(i+=2)&&(a?a(y):b())};var s="undefined"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(y,1)}}var p=new Array(1e3);function y(){for(var t=0;t<i;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}i=0}var _,g,v,w,b=void 0;function m(t,e){var n=this,o=new this.constructor(A);void 0===o[k]&&F(o);var i=n._state;if(i){var r=arguments[i-1];u(function(){return M(i,o,r,n._result)})}else D(n,o,t,e);return o}function O(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return T(e,t),e}f?b=function(){return e.nextTick(y)}:l?(g=0,v=new l(y),w=document.createTextNode(""),v.observe(w,{characterData:!0}),b=function(){w.data=g=++g%2}):d?((_=new MessageChannel).port1.onmessage=y,b=function(){return _.port2.postMessage(0)}):b=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(y)}:h()}catch(t){return h()}}():h();var k=Math.random().toString(36).substring(2);function A(){}var S=void 0,L=1,x=2,P={error:null};function B(t){try{return t.then}catch(t){return P.error=t,P}}function C(e,n,o){n.constructor===e.constructor&&o===m&&n.constructor.resolve===O?function(t,e){e._state===L?R(t,e._result):e._state===x?I(t,e._result):D(e,void 0,function(e){return T(t,e)},function(e){return I(t,e)})}(e,n):o===P?(I(e,P.error),P.error=null):void 0===o?R(e,n):t(o)?function(t,e,n){u(function(t){var o=!1,i=function(t,e,n,o){try{t.call(e,n,o)}catch(t){return t}}(n,e,function(n){o||(o=!0,e!==n?T(t,n):R(t,n))},function(e){o||(o=!0,I(t,e))},t._label);!o&&i&&(o=!0,I(t,i))},t)}(e,n,o):R(e,n)}function T(t,e){var n,o;t===e?I(t,new TypeError("You cannot resolve a promise with itself")):(o=typeof(n=e),null===n||"object"!==o&&"function"!==o?R(t,e):C(t,e,B(e)))}function j(t){t._onerror&&t._onerror(t._result),V(t)}function R(t,e){t._state===S&&(t._result=e,t._state=L,0!==t._subscribers.length&&u(V,t))}function I(t,e){t._state===S&&(t._state=x,t._result=e,u(j,t))}function D(t,e,n,o){var i=t._subscribers,r=i.length;t._onerror=null,i[r]=e,i[r+L]=n,i[r+x]=o,0===r&&t._state&&u(V,t)}function V(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var o=void 0,i=void 0,r=t._result,a=0;a<e.length;a+=3)o=e[a],i=e[a+n],o?M(n,o,i,r):i(r);t._subscribers.length=0}}function M(e,n,o,i){var r=t(o),a=void 0,u=void 0,s=void 0,c=void 0;if(r){if((a=function(t,e){try{return t(e)}catch(t){return P.error=t,P}}(o,i))===P?(c=!0,u=a.error,a.error=null):s=!0,n===a)return void I(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,s=!0;n._state!==S||(r&&s?T(n,a):c?I(n,u):e===L?R(n,a):e===x&&I(n,a))}var E=0;function F(t){t[k]=E++,t._state=void 0,t._result=void 0,t._subscribers=[]}var W=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[k]||F(this.promise),o(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&R(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===O){var i=B(t);if(i===m&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===H){var r=new n(A);C(r,t,i),this._willSettleAt(r,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},t.prototype._settledAt=function(t,e,n){var o=this.promise;o._state===S&&(this._remaining--,t===x?I(o,n):this._result[e]=n),0===this._remaining&&R(o,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;D(t,void 0,function(t){return n._settledAt(L,e,t)},function(t){return n._settledAt(x,e,t)})},t}();var H=function(){function t(e){this[k]=E++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){T(t,e)},function(e){I(t,e)})}catch(e){I(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return H.prototype.then=m,H.all=function(t){return new W(this,t).promise},H.race=function(t){var e=this;return o(t)?new e(function(n,o){for(var i=t.length,r=0;r<i;r++)e.resolve(t[r]).then(n,o)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=O,H.reject=function(t){var e=new this(A);return I(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){u=t},H._asap=u,H.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var o=null;try{o=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===o&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=o()}).call(this,n(14),n(15))},function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(17),r=n(18),a=n(19);e.default=o.default.isFacebookApp()?r.fbAd:o.default.isWechatApp()?i.wxAd:a.browserAd},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=n(8),a=function(){function t(){this._rewardedAdId="",this._bannerAdId="",this._bannerAd=null,this._rewardedVideoAd=null,this._rewardedVideoCallback=null}return t.prototype.isSupportedRewardedVideoAd=function(){return!0},t.prototype.configRewardedVideoAd=function(t,e){t==o.WECHAT&&(this._rewardedAdId=e)},t.prototype.watchRewardedVideoAd=function(t,e,n){var i=this;this._rewardedVideoAd=o.default.execWX("createRewardedVideoAd",{adUnitId:this._rewardedAdId}),this._rewardedVideoAd?(this._rewardedVideoCallback&&this._rewardedVideoAd.offClose(this._rewardedVideoCallback),this._rewardedVideoCallback=function(n){n&&n.isEnded||void 0===n?t&&t():e&&e()},this._rewardedVideoAd.onClose(this._rewardedVideoCallback),this._rewardedVideoAd.show().catch(function(t){i._rewardedVideoAd.load().then(function(){return i._rewardedVideoAd.show()}).catch(function(t){n&&n(t.errMsg)})})):n&&n("createRewardedVideoAd:fail")},t.prototype.isSupportedBannerAd=function(){return!0},t.prototype.configBannerAd=function(t,e){t==o.WECHAT&&(this._bannerAdId=e)},t.prototype.showBannerAd=function(t,e,n,a,u){var s=this;try{this.hideBannerAd();var c=r.fixWidth(t+i.default.getOffestX()),l=r.fixHeight(e+i.default.getOffestY()),f=r.fixWidth(n),d=r.fixHeight(a);f<300&&(f=300),this._bannerAd=o.default.execWX("createBannerAd",{adUnitId:this._bannerAdId,style:{left:c,top:l,width:f,height:d}}),this._bannerAd?(this._bannerAd.style.left=c,this._bannerAd.style.top=l,this._bannerAd.style.width=f,this._bannerAd.style.height=d,this._bannerAd.onResize(function(t){if(s._bannerAd){var e,n=f/d,o=t.width/t.height,i=l,r=f,a=d;n<o?a=f/o:r=d*o,r<300&&(r=300),e=c+(f-r)/2,s._bannerAd.style.left=e,s._bannerAd.style.top=i,s._bannerAd.style.width=r,s._bannerAd.style.height=a}}),this._bannerAd.onError(function(t){u&&u(t&&t.errMsg||"showBannerAd:fail")}),this._bannerAd.show()):u&&u("createBannerAd:fail")}catch(t){u&&u("showBannerAd:fail")}},t.prototype.hideBannerAd=function(){try{this._bannerAd&&this._bannerAd.destroy&&this._bannerAd.destroy(),this._bannerAd=null}catch(t){}},t}();e.wxAd=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this._adId=""}return t.prototype.isSupportedRewardedVideoAd=function(){return!0},t.prototype.configRewardedVideoAd=function(t,e){t==o.FACEBOOK&&(this._adId=e)},t.prototype.watchRewardedVideoAd=function(t,e,n){var i=null;o.default.execFB("getRewardedVideoAsync",this._adId).then(function(t){return(i=t).loadAsync()}).catch(function(t){throw n&&n(t.message||"load rewarded video fail"),t}).then(function(){return i.showAsync().then(function(){t&&t()}).catch(function(t){n&&n(t.message||"show rewarded video fail")})})},t.prototype.isSupportedBannerAd=function(){return!1},t.prototype.configBannerAd=function(t,e){},t.prototype.showBannerAd=function(t,e,n,o,i){i&&i("not support banner ad")},t.prototype.hideBannerAd=function(){},t}();e.fbAd=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.isSupportedRewardedVideoAd=function(){return!1},t.prototype.configRewardedVideoAd=function(t,e){},t.prototype.watchRewardedVideoAd=function(t,e,n){n&&n("not support rewardedVideo ad")},t.prototype.isSupportedBannerAd=function(){return!1},t.prototype.configBannerAd=function(t,e){},t.prototype.showBannerAd=function(t,e,n,o,i){i&&i("not support banner ad")},t.prototype.hideBannerAd=function(){},t}();e.browserAd=new o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(21),r=n(22),a=n(23);e.default=o.default.isFacebookApp()?i.fbApp:o.default.isWechatApp()?r.wxApp:a.browserApp},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this._launchCallback=null,this._pauseCallback=null,o.default.isFacebookApp()&&this._init()}return t.prototype._init=function(){var t=this;o.default.execFB("onPause",function(){t._pauseCallback&&t._pauseCallback()}),o.default.execFB("player.canSubscribeBotAsync").then(function(t){t?(o.default.execFB("player.subscribeBotAsync"),o.default.printDebug("can subscribe bot")):o.default.printDebug("not can subscribe bot")})},t.prototype.getUserInfo=function(t){t&&t({platform:"facebook",playerId:o.default.execFB("player.getID"),nickname:o.default.execFB("player.getName"),avatarUrl:o.default.execFB("player.getPhoto"),city:"-",country:"-",province:"-",gender:0,language:o.default.execFB("getLocale"),raw:null})},t.prototype._checkOnLaunch=function(){var t=this;o.default.execFB("getEntryPointAsync").then(function(e){var n=o.default.execFB("getEntryPointData")||{};t._launchCallback&&t._launchCallback({scene:""+e,query:n,platform:"facebook"})})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype.onPause=function(t){this._pauseCallback=t},t.prototype.showGameClubButton=function(t,e,n,o,i){},t.prototype.hideGameClubButton=function(){},t}();e.fbApp=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(8),r=n(1),a=function(){function t(){this._pauseCallback=null,this._launchCallback=null,this._userinfoButton=null,this._clubButton=null,o.default.isWechatApp()&&this._init()}return t.prototype._init=function(){var t=this;o.default.execWX("onHide",function(){t._pauseCallback&&t._pauseCallback()}),o.default.execWX("onShow",function(e){t._launchCallback&&t._launchCallback({scene:""+(e.scene||""),query:e.query||{},platform:"wechat"})})},t.prototype.showGameClubButton=function(t,e,n,a,u){try{var s=i.fixWidth(e+r.default.getOffestX()),c=i.fixHeight(n+r.default.getOffestY()),l=i.fixWidth(a),f=i.fixHeight(u),d=["green","white","dark","light"];this.hideGameClubButton(),this._clubButton||(this._clubButton=o.default.execWX("createGameClubButton",{icon:d.indexOf(t)<0?d[0]:t,style:{left:s,top:c,width:l,height:f}}),this._clubButton&&d.indexOf(t)<0&&(this._clubButton.image=t)),this._clubButton&&(this._clubButton.style.left=s,this._clubButton.style.top=c,this._clubButton.style.width=l,this._clubButton.style.height=f,this._clubButton.show())}catch(t){}},t.prototype.hideGameClubButton=function(){try{this._clubButton&&(this._clubButton.style.left=-this._clubButton.style.width,this._clubButton.style.top=-this._clubButton.style.height,this._clubButton.hide(),this._clubButton.destroy(),this._clubButton=null)}catch(t){}},t.prototype.getUserInfo=function(t){var e=this,n=function(e){e&&e.userInfo?t&&t({platform:"wechat",playerId:"-",avatarUrl:e.userInfo.avatarUrl,nickname:e.userInfo.nickName,city:e.userInfo.city,country:e.userInfo.country,province:e.userInfo.province,gender:e.userInfo.gender,language:e.userInfo.language,raw:e}):t&&t(null)},i=function(){e._userinfoButton&&(e._userinfoButton.style.left=-e._userinfoButton.style.width,e._userinfoButton.style.top=-e._userinfoButton.style.height,e._userinfoButton.hide(),e._userinfoButton.destroy(),e._userinfoButton=null)};o.default.execWX("getUserInfo",{withCredentials:!0,success:n,fail:function(){var t=o.default.execWX("getSystemInfoSync");t?(i(),e._userinfoButton||(e._userinfoButton=o.default.execWX("createUserInfoButton",{withCredentials:!0,type:"image",image:"res/unpack/get_user_info.png",style:{left:0,top:0,width:t.windowWidth,height:t.windowHeight}})),e._userinfoButton&&(e._userinfoButton.onTap(function(t){t.errMsg.indexOf(":ok")>=0&&(i(),n(t))}),e._userinfoButton.show())):n(null)}})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype._checkOnLaunch=function(){var t=o.default.execWX("getLaunchOptionsSync")||{};this._launchCallback&&this._launchCallback({entry:t.scene||1e3,query:t.query||{},platform:"wechat"})},t.prototype.onPause=function(t){this._pauseCallback=t},t}();e.wxApp=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(24);function r(){for(var t={},e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var o=e[n].split("=");o.length>1&&(t[o[0]]=decodeURIComponent(o[1]))}return t}var a=function(){function t(){this._pauseCallback=null,this._launchCallback=null,o.default.isBrowserApp()&&this._init()}return t.prototype._init=function(){var t=this;window.onblur=function(){t._pauseCallback&&t._pauseCallback()}},t.prototype.getUserInfo=function(t){var e=JSON.parse(r().user||"{}"),n=e.id||i.getStorageData("id","-"),a=e.nick||i.getStorageData("nick","-"),u=e.avatar||i.getStorageData("avatar","-"),s=e.gender||i.getStorageData("gender",0),c=e.language||i.getStorageData("language","-");i.setStorageData("id",n),i.setStorageData("nick",a),i.setStorageData("avatar",u),i.setStorageData("language",c),i.setStorageData("gender",s),t&&t({platform:o.BROWSER,playerId:n,nickname:a,avatarUrl:u,city:"-",country:"-",province:"-",gender:Number(s),language:c,raw:JSON.stringify(e)})},t.prototype.onLaunch=function(t){this._launchCallback=t,this._checkOnLaunch()},t.prototype._checkOnLaunch=function(){this._launchCallback&&this._launchCallback({scene:"",query:r(),platform:"browser"})},t.prototype.onPause=function(t){this._pauseCallback=t},t.prototype.showGameClubButton=function(t,e,n,o,i){},t.prototype.hideGameClubButton=function(){},t}();e.browserApp=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),i={},r="tape_";function a(t){return function(e,n){var a=""+r+e;return!i.hasOwnProperty(a)&&t&&(i[a]=localStorage&&localStorage.getItem(a)||n),o.toAny(i[a],n)}}function u(t){return function(e,n){var a=""+r+e;i[a]=n,t&&localStorage&&localStorage.setItem(a,o.toStr(n))}}function s(t){return function(e){var n=""+r+e;delete i[n],t&&localStorage&&localStorage.removeItem(n)}}e.getStorageData=a(!0),e.getSessionData=a(!1),e.setStorageData=u(!0),e.setSessionData=u(!1),e.removeStorageData=s(!0),e.removeSessionData=s(!1)},function(t,e,n){"use strict";function o(t,e){if(void 0===t||null===t)return e;var n=function(t){if("string"!=typeof t)return typeof t;try{return typeof JSON.parse(t)}catch(n){var e=parseFloat(t);return isNaN(e)||""+e!==t?"string":"number"}}(t);switch(void 0!==e&&null!==e&&(n=typeof e),n){case"boolean":return function(t){return"true"===t||"1"===t}(t);case"number":return function(t){try{return JSON.parse(t)}catch(e){return parseFloat(t)}}(t);case"object":return function(t){try{return JSON.parse(t)}catch(t){return null}}(t);case"string":return function(t){try{var e=typeof t;return"string"===e?t:"boolean"===e?t?"true":"false":"number"===e?""+t:"object"===e?JSON.stringify(t):null}catch(t){return null}}(t)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.toAny=o,e.toStr=function(t){return o(t,"")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(27),r=n(28),a=n(30);e.default=o.default.isFacebookApp()?r.fbRank:o.default.isWechatApp()?i.wxRank:a.browserRank},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=function(){function t(){this._rank_texture=null}return t.prototype.isSupportedRank=function(){return!0},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=i.default.getDesignWidth()),void 0===o&&(o=i.default.getDesignHeight());var r=new Laya.Sprite;if(window.hasOwnProperty("sharedCanvas")){var a=window.sharedCanvas;a.hasOwnProperty("_addReference")||(a._addReference=function(){}),this._rank_texture||(this._rank_texture=new Laya.Texture(a,null),this._rank_texture.bitmap.alwaysChange=!1)}if(this._rank_texture){var u=Laya.Texture.createFromTexture(this._rank_texture,t+i.default.getOffestX(),e+i.default.getOffestY(),n,o);u.bitmap.alwaysChange=!1,r.width=n,r.height=o,r.graphics.drawTexture(u,0,0,u.width,u.height)}return r},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),o.default.postMessageToWXOpenDataContext({action:"setRankKey",data:{key:t,count:e,offset:n}})},t.prototype.setRankScore=function(t,e,n){void 0===n&&(n=""),o.default.postMessageToWXOpenDataContext({action:"setRankScore",data:{key:t,score:e,extraData:n}})},t.prototype.showRank=function(t){o.default.postMessageToWXOpenDataContext({action:"showRank",data:{ui:t}})},t.prototype.hideRank=function(){o.default.postMessageToWXOpenDataContext({action:"hideRank",data:{}})},t}();e.wxRank=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(29),r=n(1),a=function(){function t(){this._rankKey=null,this._rankUi=null,this._rankViews=[],this._rankData={},this._canDraw=!0,this._count=100,this._offset=0,this._delayObj=null}return t.prototype._fetchRankData=function(t,e){var n=this,i=o.default.execFB("getLeaderboardAsync",t);i&&i.then&&i.then(function(t){return t.getConnectedPlayerEntriesAsync(n._count,n._offset)}).then(function(t){try{var n={playerId:o.default.execFB("player.getID"),nickname:o.default.execFB("player.getName"),avatarUrl:o.default.execFB("player.getPhoto")},i=-1,r={},a=null,u=[],s=t.map(function(t,e){var o={rank:t.getRank(),score:t.getScore(),timestamp:t.getTimestamp(),extraData:t.getExtraData(),playerId:t.getPlayer().getID(),nickname:t.getPlayer().getName(),avatarUrl:t.getPlayer().getPhoto()},u=o.playerId==n.playerId;return u&&(a=o,i=e,r={score:o.score,extraData:o.extraData}),Object.assign(o,{self:u}),o});u=i<=0?s.slice(0,3):s.slice(i-1,i+1),e&&e({selfInfo:n,selfData:r,rankList:s,rankSelf:a,rankThree:u})}catch(t){e&&e({})}})},t.prototype._drawRankView=function(){var t=this;if(this._rankUi){var e=[];this._rankViews.forEach(function(n,o){if(n._destroyed)e.unshift(o);else if(n.destroyChildren(),t._rankUi instanceof Array)t._rankUi.forEach(function(e){var o=Laya.View.createComp(e);o&&(i.bindView(o,t._rankData),n.addChild(o))});else{var r=Laya.View.createComp(t._rankUi);r&&(i.bindView(r,t._rankData),n.addChild(r))}}),e.forEach(function(e){t._rankViews.splice(e,1)})}},t.prototype._bindRankView=function(){var t=this;this._rankKey&&this._canDraw&&(this._canDraw=!1,this._fetchRankData(this._rankKey,function(e){t._rankData=e,t._canDraw=!0,t._rankViews.forEach(function(e){for(var n=0;n<e.numChildren;n++){var o=e.getChildAt(n);i.bindView(o,t._rankData)}})}))},t.prototype._delayBindRankView=function(){var t=this;this._delayObj||(this._delayObj=setTimeout(function(){t._delayObj=null,t._bindRankView()},200))},t.prototype.isSupportedRank=function(){return!0},t.prototype.createRankView=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=r.default.getWidth()),void 0===o&&(o=r.default.getHeight());var i=new Laya.Sprite;return i.scrollRect=new Laya.Rectangle(t,e,n,o),this._rankViews.push(i),this._drawRankView(),this._delayBindRankView(),i},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),this._rankKey=t,this._count=e,this._offset=n,this._delayBindRankView()},t.prototype.setRankScore=function(t,e,n){var i=this,r=o.default.execFB("getLeaderboardAsync",t);r&&r.then&&r.then(function(t){return t.setScoreAsync(e,n)}).then(function(n){t==i._rankKey&&n.getScore()==e&&i._delayBindRankView()})},t.prototype.showRank=function(t){this._rankUi&&JSON.stringify(t)===JSON.stringify(this._rankUi)||(this._rankUi=t,this._drawRankView()),this._delayBindRankView()},t.prototype.hideRank=function(){this._rankUi=null,this._rankViews.forEach(function(t){t.destroyChildren()})},t}();e.fbRank=new a},function(t,e,n){"use strict";function o(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.bindView=function t(e,n){for(var i,r,a=o(n),u=function(){if((i=e.getChildAt(c)).name)if(r=function(t,e){var n=e.split("|"),i=n[0],r=o(t);t?t[i]?r=o(t[i]):i.split(".").forEach(function(t){r=null!==r&&void 0!==r&&null!==r[t]&&void 0!==r[t]?o(r[t]):null}):r=null;for(var a=[],u=1;u<n.length;u+=2){var s=n[u],c=n.length>u+1?n[u+1]:"";a.push({action:s,target:c})}var l=null;for(u=0;u<a.length;u++){var f=a[u];s=f.action,c=f.target,"default"===s&&(l=c),null!==r&&void 0!==r?"eq"===s&&c!==r.toString()||"neq"===s&&c===r.toString()||"gt"===s&&r<=c||"egt"===s&&r<c||"lt"===s&&r>=c||"elt"===s&&r>c||"like"===s&&r.toString().indexOf(c)<0?r=null:"sub"===s?r.toString().length>Number(c)&&(r=r.toString().substr(0,Number(c))+"..."):"append"===s&&(r=r.toString()+c):r=null}return null===r&&(r=l),r}(a,i.name))if(i.visible=!0,i instanceof Laya.List){var n=i;n.array=[],n.repeatX>1&&!n.hScrollBarSkin&&(n.hScrollBarSkin=null),n.repeatY>1&&!n.vScrollBarSkin&&(n.vScrollBarSkin=null),n.renderHandler=Laya.Handler.create(s,function(e,o){var i=n.array[o];"object"==typeof i&&Object.assign(i,{index:o}),t(e,i)},null,!1),n.array=r}else i instanceof Laya.FontClip?i.value=r:i instanceof Laya.Label?i.text=r:i instanceof Laya.Text?i.text=r:i instanceof Laya.Image?i.skin=r:i instanceof Laya.Box?t(i,r):i.value=r;else i.visible=!1},s=this,c=0;c<e.numChildren;c++)u()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(){}return t.prototype.isSupportedRank=function(){return!1},t.prototype.createRankView=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=o.default.getWidth()),void 0===i&&(i=o.default.getHeight());var r=new Laya.Sprite;return r.scrollRect=new Laya.Rectangle(t,e,n,i),r},t.prototype.setRankKey=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0)},t.prototype.setRankScore=function(t,e,n){},t.prototype.showRank=function(t){},t.prototype.hideRank=function(){},t}();e.browserRank=new i},function(t,e,n){"use strict";var o,i,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(e,n){!function(t){t.x=t.x+t.width/2-t.pivotX,t.y=t.y+t.height/2-t.pivotY,t.pivot(t.width/2,t.height/2)}(e),Laya.Tween.to(e,{scaleX:n,scaleY:n},t.scaleTime)}function n(n){n.offAll(),n.on(Laya.Event.MOUSE_DOWN,n,function(){return e(n,t.scaleSmalValue)}),n.on(Laya.Event.MOUSE_UP,n,function(){return e(n,t.scaleBigValue)}),n.on(Laya.Event.MOUSE_OUT,n,function(){return e(n,t.scaleBigValue)}),n.on(Laya.Event.CLICK,n,function(){var e;(e=n.sound)?Laya.SoundManager.playSound(e,1):t.clickSound&&Laya.SoundManager.playSound(t.clickSound,1)})}t.clickSound=null,t.scaleTime=100,t.scaleSmalValue=.8,t.scaleBigValue=1,t.bindClick=n;var o=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Button);t.btn=o;var i=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Image);t.btn_img=i;var a=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Label);t.btn_label=a;var u=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Sprite);t.btn_sprite=u;var s=function(t){function e(){var e=t.call(this)||this;return e.sound=null,n(e),e}return r(e,t),e}(Laya.Box);t.btn_box=s}(i||(i={})),e.default=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),a=n(5),u=n(1),s=function(t){function e(e){var n=t.call(this,function(){n.back()})||this;return n.page=null,n.params={},n.duration=0,n.easeIn=null,n.easeOut=null,n.fromProps=null,n.toProps=null,n.width=u.default.getWidth(),n.height=u.default.getHeight(),n.params=Object.assign({},e.params||{}),n.page=e.page,n}return i(e,t),e.open=function(t,e){r.default.navigate(this,t,e)},e.finish=function(){r.default.finish(this)},e.prototype.redirectTo=function(t,e){var n=this;void 0===e&&(e={}),this.navigate(t,e,function(){n.back()})},e.prototype.navigate=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),r.default.navigate(t,e,n)},e.prototype.back=function(){r.default.finish(this.page,this)},e.prototype.finish=function(t,e){void 0===t&&(t=this.page),void 0===e&&(e=null),r.default.finish(t,e)},e.prototype.pop=function(t){void 0===t&&(t=1),r.default.pop(t)},e.prototype.popToTop=function(){r.default.popToTop()},e.res=[],e}(a.default);e.default=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),a=n(5),u=n(1),s=function(t){function e(){var e=t.call(this,function(){e.hide()})||this;return e.duration=500,e.easeIn=null,e.easeOut=null,e.fromProps=null,e.toProps=null,e.isTranslucent=!1,e.canceledOnTouchOutside=!1,e.width=u.default.getWidth(),e.height=u.default.getHeight(),e}return i(e,t),e.show=function(t,e){r.default.showPopup(this,t,e)},e.hide=function(t){r.default.hidePopup(this,null,t)},e.prototype.hide=function(t){void 0===t&&(t=null),r.default.hidePopup(this.popup,this,t)},e}(a.default);e.default=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),a=n(5),u=n(1),s=function(t){function e(){var e=t.call(this,function(){e.hide()})||this;return e.duration=500,e.displayDuration=1e3,e.easeIn=null,e.easeOut=null,e.fromProps=null,e.toProps=null,e.width=u.default.getWidth(),e.height=u.default.getHeight(),e}return i(e,t),e.show=function(t,e){r.default.showToast(this,t,e)},e.hide=function(){r.default.hideToast(this)},e.prototype.hide=function(){r.default.hideToast(this.toast,this)},e}(a.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(36),r=n(37),a=n(38),u=n(1),s=n(3);function c(){return o.default.isFacebookApp()?r.fbInit:o.default.isWechatApp()?i.wxInit:a.browserInit}e.init=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];o.default.printDebug("init..."),o.default.printDebug("tape version: "+o.default.getVersion()),o.default.printDebug("app version: "+o.default.getAppVersion()),o.default.printDebug("platform: "+o.default.getPlatform()),o.default.isWechatApp()&&Laya.MiniAdpter.init(!0),u.initScreen.apply(void 0,[!1,t,e].concat(n))},e.init3D=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];o.default.printDebug("init3D..."),o.default.printDebug("tape version: "+o.default.getVersion()),o.default.printDebug("app version: "+o.default.getAppVersion()),o.default.printDebug("platform: "+o.default.getPlatform()),o.default.isWechatApp()&&Laya.MiniAdpter.init(!0),u.initScreen.apply(void 0,[!0,t,e].concat(n))},e.start=function(t,e){void 0===e&&(e=null);var n={mainPage:t.mainPage,commonRes:t.commonRes||[],fileVersion:t.fileVersion,onLoadProgress:function(e){c().onLoadProgress(e),t.onLoaded&&t.onLoadProgress(e)},onLoaded:function(){c().onLoaded(),t.onLoaded&&t.onLoaded()}};c().start(function(){s.initNavigator(n),e&&e()})},e.exit=function(){c().exit()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=n(3),a=function(){function t(){}return t.prototype.start=function(t){if(window.hasOwnProperty("sharedCanvas")){var e=window.sharedCanvas;e.width=i.default.getWidth(),e.height=i.default.getHeight()}t&&t()},t.prototype.exit=function(){o.default.execWX("exitMiniProgram")},t.prototype.onLoaded=function(){r.setNavigatorReady(),o.default.postMessageToWXOpenDataContext({action:"initRank",data:{width:i.default.getWidth(),height:i.default.getHeight(),offsetX:i.default.getOffestX(),offsetY:i.default.getOffestY(),designWidth:i.default.getDesignWidth(),designHeight:i.default.getDesignHeight()}})},t.prototype.onLoadProgress=function(t){},t}();e.wxInit=new a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(3),r=!1,a=0;function u(){r||((a+=1)>99?a=99:setTimeout(u,50),o.default.execFB("setLoadingProgress",a))}var s=function(){function t(){}return t.prototype.start=function(t){u(),o.default.execFB("initializeAsync").then(function(){t&&t()})},t.prototype.exit=function(){o.default.execFB("quit")},t.prototype.onLoaded=function(){r=!0,o.default.execFB("setLoadingProgress",100),o.default.execFB("startGameAsync").then(function(){i.setNavigatorReady()})},t.prototype.onLoadProgress=function(t){},t}();e.fbInit=new s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=function(){function t(){}return t.prototype.start=function(t){t&&t()},t.prototype.exit=function(){},t.prototype.onLoaded=function(){o.setNavigatorReady()},t.prototype.onLoadProgress=function(t){},t}();e.browserInit=new i}])});
//# sourceMappingURL=tape.js.map